# This is a happy path test for the feedback widget
# It verifies that the feedback form can be opened, filled out, and submitted successfully
appId: ${APP_ID}
jsEngine: graaljs
---

# Show feedback button
- tapOn: 'Feedback'

# Open feedback widget
- tapOn: 'Report a Bug'

# Assert that the feedback form is visible
- extendedWaitUntil:
    visible:
      id: 'form-title'
    timeout: 5_000

# Fill out name field
- tapOn:
    id: 'name-input'
- inputText: 'John Doe'

# Fill out email field
- tapOn:
    id: 'email-input'
- inputText: 'test@email.com'

# Fill out message field
- tapOn:
    id: 'message-input'
- inputText: 'This is a test feedback message from CI e2e tests'

# Submit feedback
- scrollUntilVisible:
    element:
      id: 'submit-button'
- tapOn:
    id: 'submit-button'
- assertVisible: 'Thank you for your report!'
- tapOn: 'OK'

# Verify feedback form is closed and the home screen is visible
- assertVisible: 'Welcome to React Native'
