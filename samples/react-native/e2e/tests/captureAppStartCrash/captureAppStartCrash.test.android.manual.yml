appId: io.sentry.reactnative.sample
---
# First launch: Enable crash flag and exit gracefully
- launchApp:
    clearState: true
    stopApp: true

# App launches on ErrorsTab by default, wait for screen to load
- waitForAnimationToEnd:
    timeout: 2000

# Scroll down to find the "Enable Crash on Start" button (Android only)
- scrollUntilVisible:
    element: "Enable Crash on Start"
    timeout: 10000
    direction: DOWN

- tapOn: "Enable Crash on Start"
- stopApp

# Second launch: App will crash on start due to flag file
- launchApp:
    clearState: false
    stopApp: false

# Third launch: Crash event is sent before crashing again
- launchApp:
    clearState: false
    stopApp: false

# Fourth launch: Disable the crash flag so app can run normally
- launchApp:
    clearState: false
    stopApp: false

# Wait for app to stabilize
- waitForAnimationToEnd:
    timeout: 2000

# Scroll down to find the "Disable Crash on Start" button
- scrollUntilVisible:
    element: "Disable Crash on Start"
    timeout: 10000
    direction: DOWN

- tapOn: "Disable Crash on Start"
