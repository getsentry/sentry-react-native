appId: io.sentry.reactnative.sample
---
# First launch: Enable crash flag and exit gracefully
- launchApp:
    clearState: true
    stopApp: true

# App launches on ErrorsTab by default, wait for screen to load
- waitForAnimationToEnd:
    timeout: 2000

# Scroll down to find the "Enable Crash on Start" button (Android only)
- scrollUntilVisible:
    element: "Enable Crash on Start"
    timeout: 10000
    direction: DOWN

- tapOn: "Enable Crash on Start"
- stopApp

# Second launch: App crashes on start
# The crash flag auto-deletes when read, so app only crashes once
- launchApp:
    clearState: false
    stopApp: false

# Third launch: App starts normally and sends the crash event
- launchApp:
    clearState: false
    stopApp: false
